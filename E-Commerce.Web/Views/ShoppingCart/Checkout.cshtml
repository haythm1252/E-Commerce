@model ShoppingCart
@{
	ViewData["Title"] = "Order Details";
	Layout = "_Layout";
}

<div class="container mt-4">
	<div class="row justify-content-center">
		<div class="col-lg-10">
			<div class="card shadow-sm mb-4">
				<div class="card-header bg-primary text-white">
					<h2 class="mb-0">
						<i class="fas fa-receipt me-2"></i>Order Details
					</h2>
				</div>
			</div>
			<div class="card shadow-sm">
				<div class="card-header bg-light">
					<h3 class="mb-0">
						<i class="fas fa-shopping-bag me-2"></i>Order Items
					</h3>
				</div>
				<div class="card-body p-0">
					<div class="table-responsive">
						<table class="table table-hover mb-0">
							<thead class="table-dark">
								<tr>
									<th scope="col" class="text-center">Product</th>
									<th scope="col">Name</th>
									<th scope="col" class="text-center">Quantity</th>
									<th scope="col" class="text-end">Unit Price</th>
									<th scope="col" class="text-end">Total</th>
								</tr>
							</thead>
							<tbody>
								@foreach (var item in Model.ShoppingCartItems)
								{
									<tr>
										<td class="text-center align-middle">
											<img src="/@item.Product.ImageUrl"
												 alt="@item.Product.Name"
												 class="rounded border"
												 style="width: 60px; height: 60px; object-fit: cover;" />
										</td>
										<td class="align-middle">
											<h6 class="mb-1">@item.Product.Name</h6>
											<small class="text-muted">@item.Product.Description</small>
										</td>
										<td class="text-center align-middle">
											<span class="badge bg-secondary fs-6">@item.Quantity</span>
										</td>
										<td class="text-end align-middle">
											<strong>@item.UnitPrice.ToString("F2") EGP</strong>
										</td>
										<td class="text-end align-middle">
											<strong class="text-primary">@item.TotalPrice.ToString("F2") EGP</strong>
										</td>
									</tr>
								}
							</tbody>
							<tfoot class="table-light">
								<tr>
									<td colspan="4" >
										<h5 class="mb-0">Grand Total: <h5 class="mb-0 text-success">Total: @Model.TotalPrice.ToString("F2") EGP</h5></h5>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>
			</div>
			<div class="card shadow-sm mt-4">
				<div class="card-body text-center">
					<div class="row g-3">
						<div class="col-sm-6">
							<a asp-controller="ShoppingCart" asp-action="Index" class="btn btn-outline-secondary btn-lg w-100">
								<i class="fas fa-arrow-left me-2"></i>Back to Cart
							</a>
						</div>
						<div class="col-sm-6">
							<a asp-controller="Order" asp-action="Checkout" asp-route-cartId="@Model.Id" class="btn btn-success btn-lg w-100">
								<i class="fas fa-credit-card me-2"></i>Proceed to Checkout
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>